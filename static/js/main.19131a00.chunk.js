(this["webpackJsonpout-the-door"]=this["webpackJsonpout-the-door"]||[]).push([[0],{35:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(12),i=a.n(o),s=(a(35),a(2)),c=a(5),d=a(1),p=a(7),l=a.n(p),u=a(50),b=a(51),g=a(52),m=a(53),O=a(16),f=a(11),h=a(10),j=a(28),x=a(4),y=Object(h.a)("div",{shouldForwardProp:j.a,target:"eh38ldz0"})("box-sizing:border-box;",Object(x.n)({boxShadow:{property:"boxShadow",scale:"boxShadow"},cursor:!0}),Object(x.f)(x.b,x.m,x.d,x.j),""),v=function(e){var t=e.innerRef,a=Object(f.a)(e,["innerRef"]);return Object(s.b)(y,Object(O.a)({ref:t},a))},E=function(e){var t=e.children,a=e.disabled,r=e.onClick,n=e.role,o=void 0===n?"button":n,i=e.type,c=e.innerRef,p=e.variant,l=Object(d.a)({display:"flex",alignItems:"center",justifyContent:"center",background:"#3D3D3D",appearance:"none",border:"1px solid transparent",borderRadius:"3px",color:"white",fontWeight:"600",letterSpacing:".2px",padding:"4px 8px",cursor:"pointer",transition:"opacity ease-in-out 150ms",opacity:.9,"&:hover":{opacity:1}},function(e){switch(e){case"naked":return{background:"transparent",color:"initial","&:hover":{background:"#E9E9E9"}};case"outline":return{background:"transparent",color:"initial",border:"1px solid #3D3D3D","&:hover":{background:"#E9E9E9"}};default:return{}}}(p));return Object(s.b)("button",{css:l,onClick:r,type:i,disabled:a,role:o,ref:c},t)},k=a(21),S=a(3),I=function(e){var t=e.children,a=e.data,n=void 0===a?{}:a,o=e.id,i=Object(f.a)(e,["children","data","id"]),c=Object(k.b)({id:o,data:n}),d=c.isDragging,p=c.attributes,l=c.listeners,u=c.setNodeRef,b=c.transform,g={cursor:d?"grabbing":"grab",transform:S.a.Translate.toString(b)};return Object(s.b)(v,Object(O.a)({},i,{css:g,innerRef:u},l,p),Object(r.cloneElement)(t,{isDragging:d}))},C=a(54),w=function(e){var t=e.children,a=e.placement,o=void 0===a?"buttom":a,i=e.title,d=Object(r.useState)(!1),p=Object(c.a)(d,2),l=p[0],u=p[1],b=Object(r.useState)(null),g=Object(c.a)(b,2),m=g[0],O=g[1],f=Object(r.useState)(null),h=Object(c.a)(f,2),j=h[0],x=h[1],y=Object(C.a)(m,j,{placement:o,modifiers:[{name:"offset",options:{offset:[0,8]}}]}),v=y.styles,k=y.attributes,S=function(){return Math.floor(1e4*Math.random())},I="menu-".concat(S(),"-").concat(S());return Object(s.b)(n.a.Fragment,null,Object(s.b)(E,{"aria-controls":I,"aria-expanded":l,onClick:function(){return u(!l)},innerRef:O,type:"button"},i),l&&Object(s.b)(R,{attributes:k,id:I,innerRef:j,setExpanded:u,setInnerRef:x,styles:v},t))},R=function(e){var t=e.attributes,a=e.children,n=e.id,o=e.innerRef,i=e.setExpanded,c=e.setInnerRef,p=e.styles,l=Object(r.useCallback)((function(e){o.contains(e.target)||i(!1)}),[o,i]);return Object(r.useEffect)((function(){return document.addEventListener("mousedown",l),function(){return document.removeEventListener("mousedown",l)}}),[l,o,i]),Object(s.b)("div",Object(O.a)({id:n,ref:c,style:Object(d.a)({background:"white",border:"1px solid lightgrey",borderRadius:"3px",zIndex:10},p.popper)},t.popper),a)},D=Object(h.a)(v,{target:"e1w1ugll0"})("display:grid;",Object(x.n)({alignment:{property:"alignItems",scale:"alignment"},columns:{property:"gridTemplateColumns"},distribution:{property:"justifyContent",scale:"distribution"},gap:{properties:["gap","gridGap"],scale:"gap"}}),x.i,""),_=Object(h.a)(v,{target:"eoys3y90"})(Object(x.n)({color:{property:"backgroundColor",scale:"colors"}}),Object(x.q)({variants:{horizontal:{height:"1px",width:"100%"},vertical:{height:"100%",width:"1px"}}}),"");_.defaultProps={color:"separator"};var T={horizontal:"row",vertical:"column"},z=Object(h.a)(v,{target:"esq8cqk0"})("display:flex;min-width:0;",Object(x.n)({alignment:{property:"alignItems",scale:"alignment"},axis:{property:"flexDirection",transform:function(e){return T[e]}},distribution:{property:"justifyContent",scale:"distribution"},gap:{properties:["gap","gridGap"],scale:"gap"}}),x.g,"");z.defaultProps={axis:"vertical"};var A=Object(h.a)("p",{target:"e1il49xv0"})(x.p,Object(x.n)({color:{property:"color",scale:"color"},font:{property:"fontFamily",scale:"font"},size:{property:"fontSize",scale:"fontSize"},weight:{property:"fontWeight",scale:"fontWeight"}}),"");A.defaultProps={font:"sans",color:"text"};var F=1,M=2,N=3,L="otd-users",P="otd-today",U="complete",K="incomplete",W={1:{id:1,title:"Make bed",icon:"\ud83d\udecf"},2:{id:2,title:"Get dressed",icon:"\ud83d\udc55"},3:{id:3,title:"Backpack",icon:"\ud83c\udf92"},4:{id:4,title:"Water bottle",icon:"\ud83d\udca7"},5:{id:5,title:"Lunch",icon:"\ud83e\udd6a"},6:{id:6,title:"Mask",icon:"\ud83d\ude37"},7:{id:7,title:"Shoes",icon:"\ud83d\udc5f"}},H=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},Y=function(e){return JSON.parse(localStorage.getItem(e))},B=function(){var e=new Date,t=e.getMonth(),a=e.getDate(),r=e.getFullYear();return"".concat(t).concat(a).concat(r)},G=function(e){return l()(W).map("id").difference(e.taskIdsCompleted).value()},J=function(e,t){return l.a.includes(e.taskIdsCompleted,t)};var q=function(e,t){var a,r,n;switch(t.type){case"HANDLE_CHANGE":return Object(d.a)(Object(d.a)({},e),t.payload);case"CREATE_USER":var o=e.users,i=e.name,s=(l()(o).map("id").orderBy().last()||0)+1;return o[s]={name:i,id:s,taskIdsCompleted:[],points:0,todayCompleted:!1},Object(d.a)(Object(d.a)({},e),{},{name:"",users:o});case"LOAD_USERS":return Object(d.a)(Object(d.a)({},e),{},{users:t.payload});case"MARK_TASK_COMPLETE":return a=t.payload.taskId,r=t.payload.userId,(n=e.users[r]).taskIdsCompleted=n.taskIdsCompleted.concat([a]),Object(d.a)({},e);case"MARK_TASK_INCOMPLETE":return a=t.payload.taskId,r=t.payload.userId,(n=e.users[r]).taskIdsCompleted=l.a.pull(n.taskIdsCompleted,a),Object(d.a)({},e);case"MARK_USER_TODAY_COMPLETE":return r=t.payload.userId,e.users[r].todayCompleted=!0,Object(d.a)({},e);case"MARK_USER_TODAY_INCOMPLETE":return r=t.payload.userId,e.users[r].todayCompleted=!1,Object(d.a)({},e);case"INCREMENT_USER_POINTS":r=t.payload.userId;var c=l.a.get(t,"payload.ammount",1);return e.users[r].points+=c,Object(d.a)({},e);case"DECREMENT_USER_POINTS":r=t.payload.userId;var p=l.a.get(t,"payload.ammount",1);return e.users[r].points-=p,Object(d.a)({},e);case"RESET_USERS_TODAY":return l.a.forEach(e.users,(function(e){e.taskIdsCompleted=[],e.todayCompleted=!1})),Object(d.a)({},e);default:return e}},Q={name:"rkiwex",styles:"font-size:1rem"};var V=function(e){var t=e.children;return Object(s.b)(z,{alignment:"center",axis:"horizontal",bg:"white",boxShadow:0,distribution:"space-between",padding:"1rem",position:"sticky",top:"0",width:"100%"},t)},X=function(e){var t=e.tasks;return Object(s.b)(z,{alignment:"center",axis:"vertical",borderColor:"red",borderWidth:3,distribution:"start",gap:"1rem",height:"100%",padding:"1rem"},l.a.map(t,(function(e){return Object(s.b)($,{key:e.id,task:e,taskStatus:K})})),Object(s.b)(_,{variant:"horizontal"}),Object(s.b)(Z,{accepts:U,borderColor:"lightgrey",id:"delete-completed-dropzone",dropzoneType:M},Object(s.b)(g.a,{color:"lightgrey",size:18})))},Z=function(e){var t,a,r=e.accepts,n=e.borderColor,o=void 0===n?"whitesmoke":n,i=e.children,c=e.dropzoneData,p=e.id,u=e.minHeight,b=void 0===u?"3.25rem":u,g=e.minWidth,m=void 0===g?"3.25rem":g,O=e.dropzoneType,f=void 0===O?N:O,h=e.validateCanDrop,j=void 0===h?function(e){e.draggable,e.droppable;return!0}:h,x=Object(k.c)({id:p,data:Object(d.a)({accepts:r},c)}),y=x.active,v=x.isOver,E=x.over,S=x.setNodeRef,I=null===y||void 0===y||null===(t=y.data)||void 0===t?void 0:t.current,C=null===E||void 0===E||null===(a=E.data)||void 0===a?void 0:a.current,w=l()(r).includes(null===I||void 0===I?void 0:I.type)&&j({draggable:I,droppable:C});return Object(s.b)(z,{alignment:"center",borderColor:v&&w?function(){switch(f){case N:return"separator";case F:return"green";case M:return"red";default:return"separator"}}():o,borderRadius:"6px",borderStyle:"dashed",css:Object(s.a)({minHeight:b,minWidth:m},"",""),borderWidth:"2px",distribution:"center",innerRef:S},i)},$=function(e){var t=e.task,a=e.taskStatus,r=e.userId,n="".concat(r?"user-".concat(r,"-"):"","draggable-task-id-").concat(t.id),o={taskId:t.id,type:a,userId:r};return Object(s.b)(I,{data:o,id:n},Object(s.b)(ee,{task:t}))},ee=function(e){var t=e.task,a=e.isDragging;return Object(s.b)(v,{css:Object(s.a)({transform:a?"translateY(2px) rotate(2deg)":void 0,transition:"transform 50ms"},"","")},Object(s.b)(z,{alignment:"center",bg:"white",borderRadius:"6px",boxShadow:a?4:2,css:Object(s.a)({transform:a?" scale(1.1)":void 0,transition:"transform 250ms"},"",""),distribution:"center",height:"3rem",key:t.id,width:"3rem"},Object(s.b)(A,{size:6},t.icon)))},te=function(e){var t=e.children;return Object(s.b)(D,{columns:"1fr",flex:1,gap:"1rem",gridAutoRows:"max-content",height:"100%",padding:"1rem",width:"100%"},t)},ae={name:"1kjn4pi",styles:"align-self:center;min-width:50px"},re=function(e){var t=e.user,a=e.dispatch,r=t.taskIdsCompleted,n=G(t);return Object(s.b)(z,{axis:"vertical",bg:"white",borderRadius:"6px",boxShadow:0,distribution:"space-between",gap:"1rem",padding:"1rem"},Object(s.b)(z,{alignment:"center",axis:"horizontal",gap:"4px"},Object(s.b)(A,{font:"sans",size:2,weight:"bold"},t.name),Object(s.b)(w,{placement:"bottom-start",title:Object(s.b)(A,{font:"mono",color:"white",size:0},t.points)},Object(s.b)("form",{id:"points",onSubmit:function(e){e.preventDefault();var r=e.target,n=new FormData(e.target).get("points");a({type:"DECREMENT_USER_POINTS",payload:{userId:t.id,ammount:n}}),r.reset()}},Object(s.b)(z,{padding:2,gap:1,alignment:"end"},Object(s.b)(A,{size:2},"How many points do you want to cash in?"),Object(s.b)("input",{type:"number",name:"points",step:1,min:0,max:t.points,css:ae}),Object(s.b)(E,{type:"submit"},"Cash in"))))),Object(s.b)(z,{axis:"horizontal",gap:"1rem",height:"3rem"},l.a.map(r,(function(e){return Object(s.b)($,{userId:t.id,key:e,task:W[e],taskStatus:U})})),n.length?Object(s.b)(Z,{accepts:K,dropzoneData:{userId:t.id},dropzoneType:F,id:"user-id-".concat(t.id,"-task-dropzone"),validateCanDrop:function(e){var t=e.draggable;e.droppable;return!l.a.includes(r,t.taskId)}},Object(s.b)(m.a,{color:"lightgrey",size:18})):null))},ne=function(){var e=Object(r.useReducer)(q,{name:"",users:{}}),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e;l.a.size(a.users)&&(e=a.users,H(L,e))}),[a]),Object(r.useEffect)((function(){var e=Y(L);e&&n({type:"LOAD_USERS",payload:e})}),[]),Object(r.useEffect)((function(){B()!==Y(P)&&(n({type:"RESET_USERS_TODAY"}),H(P,B()))}),[]),Object(s.b)(k.a,{onDragEnd:function(e){var t,r,o,i=e.active,s=e.over;if(s)switch(s.data.current.accepts){case K:if(t=s.data.current.userId,r=i.data.current.taskId,o=a.users[t],J(o,r))break;n({type:"MARK_TASK_COMPLETE",payload:{userId:t,taskId:r}}),function(e){return l.a.isEmpty(G(e))}(o)&&(n({type:"MARK_USER_TODAY_COMPLETE",payload:{userId:t}}),n({type:"INCREMENT_USER_POINTS",payload:{userId:t}}));break;case U:if(t=i.data.current.userId,r=i.data.current.taskId,o=a.users[t],!t||!r)break;J(o,r)&&(n({type:"MARK_TASK_INCOMPLETE",payload:{userId:t,taskId:r}}),o.todayCompleted&&(n({type:"MARK_USER_TODAY_INCOMPLETE",payload:{userId:t}}),n({type:"DECREMENT_USER_POINTS",payload:{userId:t}})));break;default:console.warn("Action not accepted")}}},Object(s.b)(z,{width:"100%",height:"100vh",position:"relative",bg:"whitesmoke"},Object(s.b)(V,null,Object(s.b)("h1",{css:Q},"Out the Door"),Object(s.b)(w,{title:Object(s.b)(u.a,{color:"white",size:16}),placement:"bottom-end"},Object(s.b)(z,{padding:"8px"},Object(s.b)("form",{onSubmit:function(e){e.preventDefault();var t=a.users,r=a.name;return l.a.some(t,(function(e){return e.name.toLowerCase()===r.toLowerCase()}))?alert("Uh oh, it looks like a user named ".concat(r," already exists")):n({type:"CREATE_USER"})}},Object(s.b)(z,{axis:"vertical",gap:"8px",alignment:"end"},Object(s.b)("label",{htmlFor:"new-user-name"}),Object(s.b)("input",{onChange:function(e){return n({type:"HANDLE_CHANGE",payload:{name:e.target.value}})},placeholder:"Name",type:"text",value:a.name,autoFocus:!0,style:{padding:"4px 8px"}}),Object(s.b)(E,{type:"submit"},Object(s.b)(b.a,{color:"white",size:16}))))))),Object(s.b)(z,{axis:"horizontal",minHeight:"100%",minWidth:"0px",width:"100%",gap:"1rem"},Object(s.b)(X,{tasks:W}),Object(s.b)(te,null,l.a.map(a.users,(function(e){return Object(s.b)(re,{dispatch:n,key:e.id,user:e,users:a.users})}))))))},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),r(e),n(e),o(e),i(e)}))},ie=a(8),se=[0,8,16,24,32,40,48,56,64,72,80],ce=["center","end","start"],de=ce.concat(["space-around","space-between","space-evenly","stretch"]),pe={alignment:ce,animation:{easeOutCubic:"cubic-bezier(0.33, 1, 0.68, 1)"},breakpoint:["544px","768px","1012px","1280px"],boxShadow:["rgba(0, 0, 0, 0.05) 0px 0px 0px 1px;","rgba(0, 0, 0, 0.05) 0px 1px 2px 0px","rgba(0, 0, 0, 0.1) 0px 1px 3px 0px, rgba(0, 0, 0, 0.06) 0px 1px 2px 0px","rgba(0, 0, 0, 0.1) 0px 4px 6px -1px, rgba(0, 0, 0, 0.06) 0px 2px 4px -1px","rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","rgba(0, 0, 0, 0.1) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px","rgba(0, 0, 0, 0.25) 0px 25px 50px -12px"],colors:{blue:"#4682BF",green:"#556B2F",orange:"#FF7F50",red:"#FF6347",separator:"#D9D9D9",text:"#3D3D3D",textSecondary:"#7A7A7A",white:"#FFFFFF",whiteSmoke:"#F5F5F5",yellow:"#FFD700"},distribution:de,font:{sans:'-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"',mono:'SFMono-Regular, Consolas, "Liberation Mono", Menlo, Courier, monospace'},fontWeight:{light:300,normal:400,semibold:500,bold:600},fontSize:[10,12,14,16,18,20,24,28,32],gap:se,size:se,space:se};i.a.render(Object(s.b)(ie.c,{theme:pe},Object(s.b)(ne,null)),document.getElementById("root")),oe()}},[[44,1,2]]]);
//# sourceMappingURL=main.19131a00.chunk.js.map